[{"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/index.js":"1","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/routes/index.js":"2","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/pages/LoginPage.js":"3","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/routes/PrivateRoute.js":"4","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/pages/HomePage.js":"5","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/pages/UserPage.js":"6","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/pages/_404Page.js":"7","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/store/index.js":"8","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/store/loginReducer.js":"9","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/action/const.js":"10","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/action/user.js":"11","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/service/login.js":"12","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/action/loginSaga.js":"13"},{"size":306,"mtime":1611038856764,"results":"14","hashOfConfig":"15"},{"size":1412,"mtime":1611048046389,"results":"16","hashOfConfig":"15"},{"size":944,"mtime":1611041697904,"results":"17","hashOfConfig":"15"},{"size":725,"mtime":1611039000908,"results":"18","hashOfConfig":"15"},{"size":181,"mtime":1611027844543,"results":"19","hashOfConfig":"15"},{"size":442,"mtime":1611040249594,"results":"20","hashOfConfig":"15"},{"size":181,"mtime":1611027844516,"results":"21","hashOfConfig":"15"},{"size":432,"mtime":1611047796358,"results":"22","hashOfConfig":"15"},{"size":705,"mtime":1611039572771,"results":"23","hashOfConfig":"15"},{"size":247,"mtime":1611039203809,"results":"24","hashOfConfig":"15"},{"size":1774,"mtime":1611047795171,"results":"25","hashOfConfig":"15"},{"size":793,"mtime":1611041429102,"results":"26","hashOfConfig":"15"},{"size":994,"mtime":1611047965741,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"12bz4o8",{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"30"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"30"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"30"},"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/index.js",[],["59","60"],"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/routes/index.js",["61","62"],"import React from \"react\";\nimport {BrowserRouter as Router, Route, Switch, Link} from \"react-router-dom\";\n\nimport HomePage from \"../pages/HomePage\";\nimport UserPage from \"../pages/UserPage\";\nimport LoginPage from \"../pages/LoginPage\";\nimport _404Page from \"../pages/_404Page\";\nimport PrivateRoute from \"./PrivateRoute\";\nexport const routes = [\n    {\n      path: \"/\",\n      exact: true,\n      component: HomePage\n    },\n    {\n      path: \"/user\",\n      component: UserPage,\n      auth: PrivateRoute\n    },\n    {\n      path: \"/login\",\n      component: LoginPage\n    },\n    {\n      component: _404Page\n    }\n];\nfunction index(props) {\n    return (\n        <Router>\n            <Link to=\"/\">首页</Link>\n            <Link to=\"/user\">用户中心</Link>\n            <Link to=\"/login\">登录</Link>\n            {routes.map(Route_ =>\n                Route_.auth ? (\n                    <Route_.auth key={Route_.path + \"route\"} {...Route_} />\n                ) : (\n                    <Route key={Route_.path + \"route\"} {...Route_} />\n                )\n            )}\n            {/* <Route exact path=\"/\" component={HomePage} /> */}\n            {/* <Route path=\"/user\" component={UserPage} /> */}\n            {/* <PrivateRoute path=\"/user\" component={UserPage} />\n            <Route path=\"/login\" component={LoginPage} />\n            <Route component={_404Page} /> */}\n        </Router>\n    );\n}\n\nexport default index;","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/pages/LoginPage.js",[],"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/routes/PrivateRoute.js",[],"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/pages/HomePage.js",[],"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/pages/UserPage.js",[],"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/pages/_404Page.js",[],"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/store/index.js",[],"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/store/loginReducer.js",[],"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/action/const.js",[],"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/action/user.js",["63","64","65","66"],"// 业务逻辑代码\nimport {\n    REQUEST,\n    LOGIN_SUCCESS,\n    LOGIN_FAILURE,\n    LOGOUT_SUCCESS,\n    LOGIN_SAGA\n} from \"./const\"\nimport LoginService from \"../service/login\"\n// 同步\n// export const login =userInfo=>({type:LOGIN_SUCCESS,payload:userInfo}) \n// 异步thunk版本 简单粗暴，但是容易出现嵌套的问题\n// export const login =userInfo=>dispatch=>{\n//     dispatch({type: REQUEST})\n//     LoginService.login(userInfo).then(\n//         res=>{\n//             console.log(res);\n//             // dispatch({type:LOGIN_SUCCESS,payload:res})\n//             getMoreUserInfo(res, dispatch);\n//         },\n//         err=>{\n//             dispatch({type:LOGIN_FAILURE,payload:err})\n//         }\n//     )\n//     // .catch((err)=>{\n//     //     dispatch({type:LOGIN_FAILURE,payload:err})\n//     // })\n//     // dispatch({type:LOGIN_SUCCESS,payload:userInfo})\n// } \nconst  getMoreUserInfo = (userInfo, dispatch) => {\n    return LoginService.getMoreUserInfo(userInfo).then(\n      res => {\n        dispatch({type: LOGIN_SUCCESS, payload: res});\n      },\n      err => {\n        dispatch({type: LOGIN_FAILURE, payload: err});\n      }\n    );\n};\nconst loginPromise = (userInfo, dispatch) => {\n    return LoginService.login(userInfo).then(\n      res => {\n        return res;\n      },\n      err => {\n        dispatch({type: LOGIN_FAILURE, payload: err});\n      }\n    );\n};\n// async await 方式\n// export const login = userInfo => {\n//   return async function(dispatch) {\n//     dispatch({type: REQUEST});\n//     let res1 = await loginPromise(userInfo, dispatch);\n//     console.log(\"res1\", res1);\n//     if (res1) {\n//       getMoreUserInfo(res1, dispatch);\n//     }\n//   };\n// };\n\n// redux-saga\nexport const login = userInfo =>({type:LOGIN_SAGA,payload:userInfo})","/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/service/login.js",[],["67","68"],"/Users/zhaoxiaolong/Documents/share/react_share/advanced/src/action/loginSaga.js",["69"],"//调用异步操作 call 、fork\nimport {\n  call,\n  fork,\n  put,\n  take,\n  takeEvery\n  // takeEvery\n} from \"redux-saga/effects\";\nimport {LOGIN_SAGA, LOGIN_SUCCESS, LOGIN_FAILURE, REQUEST} from \"./const\";\nimport LoginService from \"../service/login\";\n// 状态更新 put\n// 监听 take\n// worker saga\nfunction* loginHandle(action){\n  yield put({type:REQUEST})\n  try{\n    // 登录\n    const res1 = yield call(LoginService.login,action.payload)\n    // 获取信息\n    const res2 = yield call(LoginService.getMoreUserInfo,res1)\n    // 更新状态\n    yield put({type:LOGIN_SUCCESS,payload:{...res2}})\n  }catch(err){\n    yield put({type:LOGIN_FAILURE,payload:err})\n  }\n}\n// watcher saga\nfunction* loginSaga (){\n  // yield takeEvery(LOGIN_SAGA,loginHandle)\n  while (true) {\n    const action = yield take(LOGIN_SAGA);\n    // call 阻塞型\n    // fork 非阻塞\n    yield fork(loginHandle, action);\n    // 直接答应 不会延迟\n    console.log(\"action\", action); \n  }\n}\nexport default loginSaga",{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","replacedBy":"73"},{"ruleId":"74","severity":1,"message":"75","line":2,"column":41,"nodeType":"76","messageId":"77","endLine":2,"endColumn":47},{"ruleId":"78","severity":1,"message":"79","line":36,"column":21,"nodeType":"80","endLine":36,"endColumn":76},{"ruleId":"74","severity":1,"message":"81","line":3,"column":5,"nodeType":"76","messageId":"77","endLine":3,"endColumn":12},{"ruleId":"74","severity":1,"message":"82","line":6,"column":5,"nodeType":"76","messageId":"77","endLine":6,"endColumn":19},{"ruleId":"74","severity":1,"message":"83","line":30,"column":8,"nodeType":"76","messageId":"77","endLine":30,"endColumn":23},{"ruleId":"74","severity":1,"message":"84","line":40,"column":7,"nodeType":"76","messageId":"77","endLine":40,"endColumn":19},{"ruleId":"70","replacedBy":"85"},{"ruleId":"72","replacedBy":"86"},{"ruleId":"74","severity":1,"message":"87","line":7,"column":3,"nodeType":"76","messageId":"77","endLine":7,"endColumn":12},"no-native-reassign",["88"],"no-negated-in-lhs",["89"],"no-unused-vars","'Switch' is defined but never used.","Identifier","unusedVar","react/jsx-pascal-case","Imported JSX component auth must be in PascalCase or SCREAMING_SNAKE_CASE","JSXOpeningElement","'REQUEST' is defined but never used.","'LOGOUT_SUCCESS' is defined but never used.","'getMoreUserInfo' is assigned a value but never used.","'loginPromise' is assigned a value but never used.",["88"],["89"],"'takeEvery' is defined but never used.","no-global-assign","no-unsafe-negation"]